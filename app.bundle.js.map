{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Slider.js","webpack:///./src/components/ChinaChronological.js","webpack:///./src/app.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Container","styled","div","Bar","Thumb","attrs","props","style","left","StartDate","EndDate","Slider","state","xPosition","bar","onMouseDownHandler","_onMouseDownHandler","onMouseMoveHandler","_onMouseMoveHandler","onMouseUpHandler","_onMouseUpHandler","startXPosition","barWidth","thumb","currentStep","this","updateData","totalSteps","Math","ceil","e","difference","touches","clientX","ratio","setState","_passCurrentStep","clientWidth","getBoundingClientRect","document","addEventListener","removeEventListener","startLabel","endLabel","type","ref","node","onTouchStart","onMouseDown","Component","defaultProps","propTypes","PropTypes","number","isRequired","func","string","SubContainer","Geo","svg","width","GeoSAR","widthSAR","ToolTip","Header","stageColorMap","1","2","3","4","5","6","ChinaChronological","sortedTimetamps","keys","startDateString","dateString","endDateString","startDate","endDate","step","geo","geoSAR","tooltip","colorProcessor","_colorProcessor","getConfirmedCount","_getConfirmedCount","_updateData","drawChina","_drawChina","container","subContainer","d3","on","_cleanCanvas","_drawSARs","selectAll","remove","count","currentTimestamp","provinceName","properties","NAME","provinceCountData","stage","clientHeight","height","projection","scale","center","centerChinaLongtitude","centerChinaLatitude","translate","path","specialAdministrativeRegions","topojson","hkMac","objects","layer1","features","tooltipTrack","enter","append","attr","html","NAME_LOCAL","str","positionX","pageX","positionY","pageY","tooltipRect","innerWidth","split","provinces","china","truncateSimplifiedMandarine","name_local","App","testData","ReactDOM","render","getElementById"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,KAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,IAAI,IAEnBM,I,6iSCnJT,IAAM0C,EAAYC,IAAOC,IAAV,oEAAGD,CAAH,sCAKTE,EAAMF,IAAOC,IAAV,8DAAGD,CAAH,gGASHG,EAAQH,IAAOC,IAAIG,OAAM,SAAAC,GAAK,MAAK,CACvCC,MAAO,CACLC,KAAM,GAAF,OAAKF,EAAME,MAAQ,EAAnB,UAFG,gEAAGP,CAAH,iIAcLQ,EAAYR,IAAOC,IAAV,oEAAGD,CAAH,MAGTS,EAAUT,IAAOC,IAAV,kEAAGD,CAAH,MAMPU,E,YACJ,WAAYL,GAAO,M,IAAA,O,4FAAA,S,EACjB,U,EAAA,eAAMA,K,8CACDM,MAAQ,CACXC,UAAW,GAEb,EAAKC,IAAM,KACX,EAAKC,mBAAqB,EAAKC,oBAAoBzB,KAAzB,MAC1B,EAAK0B,mBAAqB,EAAKC,oBAAoB3B,KAAzB,MAC1B,EAAK4B,iBAAmB,EAAKC,kBAAkB7B,KAAvB,MACxB,EAAK8B,eAAiB,KACtB,EAAKC,SAAW,KAChB,EAAKC,MAAQ,KACb,EAAKC,YAAc,EAZF,E,uYAuBA,MACkBC,KAAKnB,MAAhCoB,EADS,EACTA,WAAYC,EADH,EACGA,WACZd,EAAcY,KAAKb,MAAnBC,UACFW,EAAcI,KAAKC,KAAKhB,GAAa,IAAMc,IAC7CH,IAAgBC,KAAKD,aAAeA,EAAcG,IACpDF,KAAKD,YAAcA,EACnBE,EAAWF,M,0CAIKM,GAAG,WAEfC,GADUD,EAAEE,QAAUF,EAAEE,QAAQ,GAAKF,GAChBG,QAAUR,KAAKJ,eACpCa,EAASH,EAAaN,KAAKH,SAAY,IACzCS,GAAc,EAChBN,KAAKU,SAAS,CACZtB,UAAW,IACV,WACD,EAAKuB,sBAILF,GAAS,GAAKA,GAAS,KACzBT,KAAKU,SAAS,CACZtB,UAAWqB,IACV,WACD,EAAKE,wB,yFASSN,GAClBL,KAAKH,SAAWG,KAAKX,IAAIuB,YACzBZ,KAAKJ,eAAiBI,KAAKX,IAAIwB,wBAAwB9B,KACvD+B,SAASC,iBAAiB,YAAaf,KAAKR,oBAC5CsB,SAASC,iBAAiB,YAAaf,KAAKR,oBAC5CsB,SAASC,iBAAiB,UAAWf,KAAKN,kBAC1CoB,SAASC,iBAAiB,WAAYf,KAAKN,oB,wCAG3BW,GAChBS,SAASE,oBAAoB,YAAahB,KAAKR,oBAC/CsB,SAASE,oBAAoB,YAAahB,KAAKR,oBAC/CsB,SAASE,oBAAoB,UAAWhB,KAAKN,kBAC7CoB,SAASE,oBAAoB,WAAYhB,KAAKN,oB,+BAGvC,aACsCM,KAAKnB,MAA9BoC,GADb,EACCf,WADD,EACae,YAAYC,EADzB,EACyBA,SACxB9B,EAAcY,KAAKb,MAAnBC,UACR,OACE,kBAACb,EAAD,KACE,kBAACS,EAAD,KACGiC,GAEH,kBAACvC,EAAD,CACEyC,KAAK,QACLC,IAAK,SAAAC,GAAU,EAAKhC,IAAMgC,IAE1B,kBAAC1C,EAAD,CACE2C,aAActB,KAAKV,mBACnBiC,YAAavB,KAAKV,mBAClBP,KAAMK,EACNgC,IAAK,SAAAC,GAAU,EAAKvB,MAAQuB,MAGhC,kBAACpC,EAAD,KACGiC,S,8BA/FUM,aAsGrBtC,EAAOuC,aAAe,GAGtBvC,EAAOwC,UAAY,CACjBxB,WAAYyB,IAAUC,OAAOC,WAC7B5B,WAAY0B,IAAUG,KAAKD,WAC3BZ,WAAYU,IAAUI,OAAOF,WAC7BX,SAAUS,IAAUI,OAAOF,YAGd3C,Q,muBC/If,IAcMX,EAAYC,IAAOC,IAAV,gFAAGD,CAAH,4EAdD,KAqBRwD,EAAexD,IAAOC,IAAV,mFAAGD,CAAH,uKAsBZyD,EAAMzD,IAAO0D,IAAV,0EAAG1D,CAAH,8CAzCM2D,KA+CTC,EAAS5D,IAAO0D,IAAV,6EAAG1D,CAAH,wFAtCM6D,KA+CZC,EAAU9D,IAAOC,IAAV,8EAAGD,CAAH,uKAYP+D,EAAS/D,IAAOC,IAAV,6EAAGD,CAAH,gDAMNgE,EAAgB,CACpBjG,EAzEwB,UA0ExBkG,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,WAoSUC,E,YAtQb,WAAYlE,GAAO,M,iGAAA,S,EACjB,KADiB,IAETpE,GADR,I,EAAA,eAAMoE,K,8CACgBA,MAAdpE,KACFuI,EAAkB9H,OAAO+H,KAAKxI,GAChByI,EAAoBzI,EAAKuI,EAAgB,IAArDG,WACYC,EAAkB3I,EAAKuI,EAAgBA,EAAgB/H,OAAS,IAA5EkI,WALS,OAMjB,EAAKE,UAAYH,EACjB,EAAKI,QAAUF,EACf,EAAKjE,MAAQ,CACXgE,WAAYD,EACZK,KAAM,GAER,EAAKC,IAAM,KACX,EAAKC,OAAS,KACd,EAAKC,QAAU,KACf,EAAKC,eAAiB,EAAKC,gBAAgB9F,KAArB,MACtB,EAAK+F,kBAAoB,EAAKC,mBAAmBhG,KAAxB,MACzB,EAAKmC,WAAa,EAAK8D,YAAYjG,KAAjB,MAClB,EAAKkG,UAAY,EAAKC,WAAWnG,KAAhB,MACjB,EAAKoG,UAAY,KACjB,EAAKC,aAAe,KApBH,E,2SAuBC,WACdnE,KAAKwD,MAEPY,IAAUhG,QAAQiG,GAAG,UAAU,WAC7B,EAAKC,eACL,EAAKL,aACL,EAAKM,eAEPvE,KAAKuE,YACLvE,KAAKiE,gB,2CAKHjE,KAAKwD,MACPxD,KAAKiE,aACLjE,KAAKuE,e,qCAKPH,IACUpE,KAAKwD,KACZgB,UAAU,QACVC,SACHL,IACUpE,KAAKyD,QACZe,UAAU,QACVC,W,kCAGOlB,GAAM,WACR9I,EAASuF,KAAKnB,MAAdpE,KAGA0I,EAAe1I,EAFCS,OAAO+H,KAAKxI,GACK8I,IACjCJ,WACRnD,KAAKU,SAAS,CACZ6C,OACAJ,eACC,WACD,EAAKmB,eACL,EAAKL,aACL,EAAKM,iB,sCAIO1H,GAAG,IAhGc6H,EAiGvBnB,EAASvD,KAAKb,MAAdoE,KACA9I,EAASuF,KAAKnB,MAAdpE,KAEFkK,EADkBzJ,OAAO+H,KAAKxI,GACK8I,GACnCqB,EAAe/H,EAAEgI,WAAW/H,MAAQD,EAAEgI,WAAWC,KALtC,EAM+BrK,EAAKkK,GAAvCI,EANG,EAMTtK,KACFuK,GAPW,EAMgB7B,WArGrB,KADmBuB,EAuGSK,EAAkBH,IArGnD,EAELF,GAAS,GAAKA,GAAS,GAClB,EAELA,GAAS,IAAMA,GAAS,GACnB,EAELA,GAAS,IAAMA,GAAS,IACnB,EAELA,GAAS,KAAOA,GAAS,IACpB,EAELA,GAAS,MAAQA,GAAS,IACrB,EAELA,GAAS,OAASA,GAAS,IACtB,EAEF,GAkFL,OAAOlC,EAAcwC,K,yCAGJnI,GAAG,IACZ0G,EAASvD,KAAKb,MAAdoE,KACA9I,EAASuF,KAAKnB,MAAdpE,KAEFkK,EADkBzJ,OAAO+H,KAAKxI,GACK8I,GACnCqB,EAAe/H,EAAEgI,WAAW/H,MAAQD,EAAEgI,WAAWC,KALnC,EAM4BrK,EAAKkK,GAAvCI,EANM,EAMZtK,KACR,OAPoB,EAMa0I,WAC1B4B,EAAkBH,K,kCAIR5E,KAAKb,MAAdoE,KADE,IAEJ3C,EAAcZ,KAAKmE,aAAavD,YAChCqE,EA7MO,IA6MQrE,EACrBZ,KAAKyD,OAAO3E,MAAMoG,OAASD,EAC3B,IAAME,EAAaf,MAEhBgB,MAtMe,GAsMTxE,GACNyE,OAAO,CAACC,SAA8BC,UACtCC,UAAU,CAAC5E,EAAc,EAAGqE,EAAe,IAExCQ,EAAOrB,IAAWe,GAElBO,EAA+BC,IAAiBC,EAAOA,EAAMC,QAAQC,QAAQC,SAC7ErC,EAAUU,IAAUpE,KAAK0D,SAEzBsC,EAAehG,KAAK0D,QAEpBC,EAAiB3D,KAAK2D,eACtBE,EAAoB7D,KAAK6D,kBAC/BO,IACUpE,KAAKyD,QACZe,UAAU,QACV/J,KAAKiL,GACLO,QACAC,OAAO,QACPC,KAAK,IAAKV,GACVU,KAAK,QAAQ,SAAStJ,GAErB,OADc8G,EAAe9G,MAI9BsJ,KAAK,SAtOS,QAuOdA,KAAK,eAAgB,IACrB9B,GAAG,aAAa,SAAUxH,GACzBuH,IACUpE,MACPmG,KAAK,eAAgB,GACxBzC,EAAQ5E,MAAM,UAAW,SAASsH,KAAlC,yCAEMvJ,EAAEgI,WAAWwB,WAFnB,iEAKWxC,EAAkBhH,GAL7B,oCASDwH,GAAG,aAAa,SAACxH,GAChB,IA/BgCyJ,EA+B5BC,EAAYnC,IAASoC,MAAQ,GAC3BC,EAAYrC,IAASsC,MACrBC,EAAcX,EAAanF,wBAC5B0F,EAAYI,EAAYxE,MAAS/D,OAAOwI,aAC3CL,EAAYnC,IAASoC,MAAQG,EAAYxE,MAAQ,IAEnDuB,EACG5E,MAAM,MADT,UACmB2H,EADnB,OAEG3H,MAAM,OAFT,UAEoByH,EAFpB,OAGGH,KAHH,8CArCgCE,EA0CIzJ,EAAEgI,WAAWwB,WA1CTC,GAAsB,iBAARA,EAAoBA,EAAIO,MAAM,KAAK,GAAK,IAqC9F,uEAQahD,EAAkBhH,GAR/B,wCAYDwH,GAAG,YAAY,WACdD,IACUpE,MACPmG,KAAK,eAAgB,IACxBzC,EAAQ5E,MAAM,UAAW,a,mCAKZkB,KAAKb,MAAdoE,KADG,IAEL3C,EAAcZ,KAAKkE,UAAUtD,YAC7BqE,EAvRO,IAuRQrE,EACrBZ,KAAKwD,IAAI1E,MAAMoG,OAASD,EACxB,IAAME,EAAaf,MAEhBgB,MAzRY,IAyRNxE,GACNyE,OAAO,CAACC,SAtRa,UAuRrBE,UAAU,CAAC5E,EAAc,EAAGqE,EAAe,IAExCQ,EAAOrB,IAAWe,GAElB2B,EAAYnB,IAAiBoB,EAAOA,EAAMlB,QAAQiB,WAAWf,SAC7DrC,EAAUU,IAAUpE,KAAK0D,SACzBsD,EAA8B,SAAAV,GAAG,OAAKA,GAAsB,iBAARA,EAAoBA,EAAIO,MAAM,KAAK,GAAK,IAC5FlD,EAAiB3D,KAAK2D,eACtBE,EAAoB7D,KAAK6D,kBAC/BO,IACUpE,KAAKwD,KACZgB,UAAU,QACV/J,KAAKqM,GACLb,QACAC,OAAO,QACPC,KAAK,IAAKV,GACVU,KAAK,QAAQ,SAAStJ,GAErB,OADc8G,EAAe9G,MAG9BsJ,KAAK,SA7SS,QA8SdA,KAAK,eAAgB,IACrB9B,GAAG,aAAa,SAAUxH,GACzBuH,IACUpE,MACPmG,KAAK,eAAgB,GACxBzC,EAAQ5E,MAAM,UAAW,SAASsH,KAAlC,yCAEMY,EAA4BnK,EAAEgI,WAAWoC,YAF/C,iEAKWpD,EAAkBhH,GAL7B,oCASDwH,GAAG,aAAa,SAACxH,GAChB6G,EACG5E,MAAM,MADT,UACmBsF,IAASsC,MAD5B,OAEG5H,MAAM,OAFT,UAEoBsF,IAASoC,MAAQ,GAFrC,OAGGJ,KAHH,6CAKQY,EAA4BnK,EAAEgI,WAAWoC,YALjD,uEAQapD,EAAkBhH,GAR/B,wCAYDwH,GAAG,YAAY,WACdD,IACUpE,MACPmG,KAAK,eAAgB,IACxBzC,EAAQ5E,MAAM,UAAW,a,+BAItB,WACCrE,EAASuF,KAAKnB,MAAdpE,KACA0I,EAAenD,KAAKb,MAApBgE,WACFH,EAAkB9H,OAAO+H,KAAKxI,GACpC,OACE,kBAAC,EAAD,CACE2G,IAAK,SAACC,GAAW,EAAK6C,UAAY7C,IAElC,kBAACkB,EAAD,kBAAeY,IACf,kBAAClB,EAAD,CACEb,IAAK,SAACC,GAAW,EAAKmC,IAAMnC,KAE9B,kBAACW,EAAD,CACEZ,IAAK,SAACC,GAAW,EAAK8C,aAAe9C,IAErC,kBAACe,EAAD,CACEhB,IAAK,SAACC,GAAW,EAAKoC,OAASpC,MAGnC,kBAAC,EAAD,CACEpB,WAAYD,KAAKC,WACjBC,WAAY8C,EAAgB/H,OAC5BgG,WAAYjB,KAAKqD,UACjBnC,SAAUlB,KAAKsD,UAEjB,kBAAChB,EAAD,CACElB,IAAK,SAACC,GAAW,EAAKqC,QAAUrC,W,8BAhQTG,a,SC5GlB0F,EARH,kBACV,6BACE,kBAAC,EAAD,CACEzM,KAAM0M,MCEZC,IAASC,OACP,kBAAC,EAAD,MAASvG,SAASwG,eAAe,U","file":"app.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([173,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Bar = styled.div`\n  height: 13px;\n  background: #eee;\n  border-radius: 5px;\n  position: relative;\n  flex-grow: 1;\n  margin: 0 15px;\n`;\n\nconst Thumb = styled.div.attrs(props => ({\n  style: {\n    left: `${props.left || 0}%`,\n  },\n}))`\n  position: absolute;\n  top: 50%;\n  border-radius: 5px;\n  height: 20px;\n  width: 11px;\n  background-color: #3f9eff;\n  transform: translate(-50%, -50%);\n`;\n\nconst StartDate = styled.div`\n\n`\nconst EndDate = styled.div`\n\n`\n\n\n\nclass Slider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      xPosition: 0,\n    };\n    this.bar = null;\n    this.onMouseDownHandler = this._onMouseDownHandler.bind(this);\n    this.onMouseMoveHandler = this._onMouseMoveHandler.bind(this);\n    this.onMouseUpHandler = this._onMouseUpHandler.bind(this);\n    this.startXPosition = null;\n    this.barWidth = null\n    this.thumb = null;\n    this.currentStep = 0;\n  }\n\n  componentWillUnmount() {\n    // document.removeEventListener('mouseup', this.onMouseUpHandler)\n  }\n\n  componentDidMount() {\n\n  }\n\n  _passCurrentStep() {\n    const { updateData, totalSteps } = this.props;\n    const { xPosition } = this.state;\n    const currentStep = Math.ceil(xPosition / (100 / totalSteps));\n    if (currentStep !== this.currentStep && currentStep < totalSteps) {\n      this.currentStep = currentStep;\n      updateData(currentStep);\n    }\n  }\n\n  _onMouseMoveHandler(e) {\n    const pointer = e.touches ? e.touches[0] : e;\n    const difference = pointer.clientX - this.startXPosition;\n    const ratio = (difference / this.barWidth) * 100;\n    if (difference <= 0) {\n      this.setState({\n        xPosition: 0,\n      }, () => {\n        this._passCurrentStep();\n      });\n      return;\n    }\n    if (ratio >= 0 && ratio <= 100) {\n      this.setState({\n        xPosition: ratio,\n      }, () => {\n        this._passCurrentStep();\n      });\n    }\n  }\n\n  _onMouseDragHandler() {\n\n  }\n\n  _onMouseDownHandler(e) {\n    this.barWidth = this.bar.clientWidth;\n    this.startXPosition = this.bar.getBoundingClientRect().left;\n    document.addEventListener('mousemove', this.onMouseMoveHandler);\n    document.addEventListener('touchmove', this.onMouseMoveHandler);\n    document.addEventListener('mouseup', this.onMouseUpHandler);\n    document.addEventListener('touchend', this.onMouseUpHandler);\n  }\n\n  _onMouseUpHandler(e) {\n    document.removeEventListener('mousemove', this.onMouseMoveHandler);\n    document.removeEventListener('touchmove', this.onMouseMoveHandler);\n    document.removeEventListener('mouseup', this.onMouseUpHandler);\n    document.removeEventListener('touchend', this.onMouseUpHandler);\n  }\n\n  render() {\n    const { totalSteps, startLabel, endLabel } = this.props;\n    const { xPosition } = this.state;\n    return (\n      <Container>\n        <StartDate>\n          {startLabel}\n        </StartDate>\n        <Bar\n          type=\"range\"\n          ref={node => { this.bar = node; }}\n        >\n          <Thumb\n            onTouchStart={this.onMouseDownHandler}\n            onMouseDown={this.onMouseDownHandler}\n            left={xPosition}\n            ref={node => { this.thumb = node; }}\n          />\n        </Bar>\n        <EndDate>\n          {endLabel}\n        </EndDate>\n      </Container>\n    );\n  }\n}\n\nSlider.defaultProps = {\n};\n\nSlider.propTypes = {\n  totalSteps: PropTypes.number.isRequired,\n  updateData: PropTypes.func.isRequired,\n  startLabel: PropTypes.string.isRequired,\n  endLabel: PropTypes.string.isRequired,\n};\n\nexport default Slider;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson';\nimport china from '../data/zh-mainland-provinces.json';\nimport hkMac from '../data/zh-hkg-mac.json';\n// import global from '../data/world.topojson';\nimport Slider from './Slider';\n\n\nconst width = 700;\nconst mapRatio = 0.58;\nconst height = width * mapRatio;\nconst scaleRatio = 0.71;\nconst DEFAULT_MAP_COLOE = '#C8C8C8';\nconst BORDER_COLOR = '#333';\nconst centerChinaLongtitude = 104.4898;\nconst centerChinaLatitude = 37.5854;\n\nconst widthSAR = 130;\nconst mapRatioSAR = 0.8;\nconst heightSAR = widthSAR * mapRatioSAR;\nconst scaleRatioRSA = 55;\n\nconst Container = styled.div`\n  max-width: ${width}px;\n  margin: 0 auto;\n  box-sizing: content-box;\n  position: relative;\n`;\n\nconst SubContainer = styled.div`\n  width: 18.5%;\n  margin: 0 auto;\n  margin-top: 20px;\n  padding: 20px;\n  box-sizing: content-box;\n  position: absolute;\n  right: 5%;\n  bottom: 26%;\n  @media (max-width: 767px) {\n    right: 0;\n    bottom: 23%;\n  }\n`;\n\n// const Geo = styled.svg.attrs({\n//   viewBox: `${width / 2} ${height / 2} ${width} ${height}`,\n// })`\n//   margin: 20px auto;\n// `;\n\n\nconst Geo = styled.svg`\n  margin: 20px auto;\n  width: 100%;\n  height: ${height}px;\n`;\n\nconst GeoSAR = styled.svg`\n  width: 100%;\n  height: ${heightSAR}px;\n  position: absolute;\n  right: 0;\n  top: -20px;\n  border: 1px solid black;\n`;\n\nconst ToolTip = styled.div`\n  color: #222;\n  background: #fff;\n  border-radius: 3px;\n  box-shadow: 0px 0px 2px 0px #a6a6a6;\n  padding: .5em;\n  text-shadow: #f5f5f5 0 1px 0;\n  opacity: 0.9;\n  position: fixed;\n  display: none;\n`;\n\nconst Header = styled.div`\n  color: #333;\n  font-weight: 600;\n  font-size: 26px;\n`;\n\nconst stageColorMap = {\n  0: DEFAULT_MAP_COLOE,\n  1: '#F5C6E9',\n  2: '#D196BC',\n  3: '#BE659B',\n  4: '#813B7C',\n  5: '#451258',\n  6: '#2B014B',\n};\n\nconst getInfectedStageFromCount = (count) => {\n  if (count === 0) {\n    return 0;\n  }\n  if (count >= 1 && count <= 10) {\n    return 1;\n  }\n  if (count >= 11 && count <= 20) {\n    return 2;\n  }\n  if (count >= 21 && count <= 100) {\n    return 3;\n  }\n  if (count >= 101 && count <= 1000) {\n    return 4;\n  }\n  if (count >= 1001 && count <= 10000) {\n    return 5;\n  }\n  if (count >= 10001 && count <= 100000) {\n    return 6;\n  }\n  return 0;\n};\n\n\nclass ChinaChronological extends Component {\n  constructor(props) {\n    super(props);\n    const { data } = this.props;\n    const sortedTimetamps = Object.keys(data);\n    const { dateString: startDateString } = data[sortedTimetamps[0]];\n    const { dateString: endDateString } = data[sortedTimetamps[sortedTimetamps.length - 1]];\n    this.startDate = startDateString;\n    this.endDate = endDateString;\n    this.state = {\n      dateString: startDateString,\n      step: 0,\n    };\n    this.geo = null;\n    this.geoSAR = null;\n    this.tooltip = null;\n    this.colorProcessor = this._colorProcessor.bind(this);\n    this.getConfirmedCount = this._getConfirmedCount.bind(this);\n    this.updateData = this._updateData.bind(this);\n    this.drawChina = this._drawChina.bind(this);\n    this.container = null;\n    this.subContainer = null;\n  }\n\n  componentDidMount() {\n    if (this.geo) {\n      // TODO: need to remove such listener\n      d3.select(window).on('resize', () => {\n        this._cleanCanvas();\n        this._drawChina();\n        this._drawSARs();\n      });\n      this._drawSARs();\n      this._drawChina();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.geo) {\n      this._drawChina();\n      this._drawSARs();\n    }\n  }\n\n  _cleanCanvas() {\n    d3\n      .select(this.geo)\n      .selectAll('path')\n      .remove();\n    d3\n      .select(this.geoSAR)\n      .selectAll('path')\n      .remove();\n  }\n\n  _updateData(step) {\n    const { data } = this.props;\n    const sortedTimetamps = Object.keys(data);\n    const currentTimestamp = sortedTimetamps[step];\n    const { dateString } = data[currentTimestamp];\n    this.setState({\n      step,\n      dateString,\n    }, () => {\n      this._cleanCanvas();\n      this._drawChina();\n      this._drawSARs();\n    });\n  }\n\n  _colorProcessor(d) {\n    const { step } = this.state;\n    const { data } = this.props;\n    const sortedTimetamps = Object.keys(data);\n    const currentTimestamp = sortedTimetamps[step];\n    const provinceName = d.properties.name || d.properties.NAME;\n    const { data: provinceCountData, dateString } = data[currentTimestamp];\n    const stage = getInfectedStageFromCount(provinceCountData[provinceName]);\n    return stageColorMap[stage];\n  }\n\n  _getConfirmedCount(d) {\n    const { step } = this.state;\n    const { data } = this.props;\n    const sortedTimetamps = Object.keys(data);\n    const currentTimestamp = sortedTimetamps[step];\n    const provinceName = d.properties.name || d.properties.NAME;\n    const { data: provinceCountData, dateString } = data[currentTimestamp];\n    return provinceCountData[provinceName];\n  }\n\n  _drawSARs() {\n    const { step } = this.state;\n    const clientWidth = this.subContainer.clientWidth;\n    const clientHeight = clientWidth * mapRatio;\n    this.geoSAR.style.height = clientHeight;\n    const projection = d3\n      .geoMercator()\n      .scale(clientWidth * scaleRatioRSA)\n      .center([centerChinaLongtitude + 9.45, centerChinaLatitude - 15.25])\n      .translate([clientWidth / 2, clientHeight / 2]);\n\n    const path = d3.geoPath(projection);\n    // const countries = topojson.feature(global, global.objects.countries).features;\n    const specialAdministrativeRegions = topojson.feature(hkMac, hkMac.objects.layer1).features;\n    const tooltip = d3.select(this.tooltip);\n    // const tooltipDimension = this.tooltip.getBoundingClientRect();\n    const tooltipTrack = this.tooltip;\n    const truncateSimplifiedMandarine = str => (str && typeof str === 'string') ? str.split('|')[0] : '';\n    const colorProcessor = this.colorProcessor;\n    const getConfirmedCount = this.getConfirmedCount;\n    d3\n      .select(this.geoSAR)\n      .selectAll('path')\n      .data(specialAdministrativeRegions)\n      .enter()\n      .append('path')\n      .attr('d', path)\n      .attr('fill', function(d) {\n        const color = colorProcessor(d);\n        return color;\n        // return DEFAULT_MAP_COLOE;\n      })\n      .attr('stroke', BORDER_COLOR)\n      .attr('stroke-width', 0.5)\n      .on('mouseover', function (d) {\n        d3\n          .select(this)\n          .attr('stroke-width', 1);\n        tooltip.style('display', 'block').html(`\n          <div>\n            ${d.properties.NAME_LOCAL}\n          </div>\n          <div>\n            確診人數：${getConfirmedCount(d)}\n          </div>\n        `);\n      })\n      .on('mousemove', (d) => {\n        let positionX = d3.event.pageX + 10;\n        const positionY = d3.event.pageY;\n        const tooltipRect = tooltipTrack.getBoundingClientRect();\n        if ((positionX + tooltipRect.width) > window.innerWidth) {\n          positionX = d3.event.pageX - tooltipRect.width - 10;\n        }\n        tooltip\n          .style('top', `${positionY}px`)\n          .style('left', `${positionX}px`)\n          .html(`\n            <div>\n              ${truncateSimplifiedMandarine(d.properties.NAME_LOCAL)}\n            </div>\n            <div>\n              確診人數：${getConfirmedCount(d)}\n            </div>\n          `);\n      })\n      .on('mouseout', function () {\n        d3\n          .select(this)\n          .attr('stroke-width', 0.5);\n        tooltip.style('display', 'none');\n      });\n  }\n\n  _drawChina() {\n    const { step } = this.state;\n    const clientWidth = this.container.clientWidth;\n    const clientHeight = clientWidth * mapRatio;\n    this.geo.style.height = clientHeight;\n    const projection = d3\n      .geoMercator()\n      .scale(clientWidth * scaleRatio)\n      .center([centerChinaLongtitude + 9, centerChinaLatitude])\n      .translate([clientWidth / 2, clientHeight / 2]);\n\n    const path = d3.geoPath(projection);\n    // const countries = topojson.feature(global, global.objects.countries).features;\n    const provinces = topojson.feature(china, china.objects.provinces).features;\n    const tooltip = d3.select(this.tooltip);\n    const truncateSimplifiedMandarine = str => (str && typeof str === 'string') ? str.split('|')[0] : '';\n    const colorProcessor = this.colorProcessor;\n    const getConfirmedCount = this.getConfirmedCount;\n    d3\n      .select(this.geo)\n      .selectAll('path')\n      .data(provinces)\n      .enter()\n      .append('path')\n      .attr('d', path)\n      .attr('fill', function(d) {\n        const color = colorProcessor(d);\n        return color;\n      })\n      .attr('stroke', BORDER_COLOR)\n      .attr('stroke-width', 0.5)\n      .on('mouseover', function (d) {\n        d3\n          .select(this)\n          .attr('stroke-width', 1);\n        tooltip.style('display', 'block').html(`\n          <div>\n            ${truncateSimplifiedMandarine(d.properties.name_local)}\n          </div>\n          <div>\n            確診人數：${getConfirmedCount(d)}\n          </div>\n        `);\n      })\n      .on('mousemove', (d) => {\n        tooltip\n          .style('top', `${d3.event.pageY}px`)\n          .style('left', `${d3.event.pageX + 10}px`)\n          .html(`\n            <div>\n              ${truncateSimplifiedMandarine(d.properties.name_local)}\n            </div>\n            <div>\n              確診人數：${getConfirmedCount(d)}\n            </div>\n          `);\n      })\n      .on('mouseout', function () {\n        d3\n          .select(this)\n          .attr('stroke-width', 0.5);\n        tooltip.style('display', 'none');\n      });\n  }\n\n  render() {\n    const { data } = this.props;\n    const { dateString } = this.state;\n    const sortedTimetamps = Object.keys(data);\n    return (\n      <Container\n        ref={(node) => { this.container = node; }}\n      >\n        <Header>{`日期：${dateString}`}</Header>\n        <Geo\n          ref={(node) => { this.geo = node; }}\n        />\n        <SubContainer\n          ref={(node) => { this.subContainer = node; }}\n        >\n          <GeoSAR\n            ref={(node) => { this.geoSAR = node; }}\n          />\n        </SubContainer>\n        <Slider\n          updateData={this.updateData}\n          totalSteps={sortedTimetamps.length}\n          startLabel={this.startDate}\n          endLabel={this.endDate}\n        />\n        <ToolTip\n          ref={(node) => { this.tooltip = node; }}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default ChinaChronological;\n","import React from 'react';\nimport ChinaChronological from './components/ChinaChronological';\nimport testData from './data/testData.json';\n\n\n\nconst App = () => (\n  <div>\n    <ChinaChronological\n      data={testData}\n    />\n  </div>\n);\n\nexport default App;\n","/* eslint-disable comma-dangle */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\n// import fetchSpreadSheet from './utils/fetchSpreadSheetv2';\n//\n// fetchSpreadSheet((data) => {\n//   console.log(data);\n// })\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}